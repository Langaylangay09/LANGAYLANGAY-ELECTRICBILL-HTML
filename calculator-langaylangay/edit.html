<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Edit profile</title>
  <link rel="stylesheet" href="edit.css">
</head>
<body>

    <div class="top">
        <img src="logo.png" alt="logo" class="home-logo">
        <h1>ELECTRIC BILL CALCULATOR</h1>
    </div>

    <nav class="main-nav-menu">
    <ul>
        <li><a href="Home.html"><img src="home-logo.png" alt="Home" class="nav-icon">Home</a></li>
        <li><a href="calculate.html"><img src="calculate-logo.png" alt="Calculate" class="nav-icon">Calculate</a></li>
        <li><a href="#"><img src="history-logo.png" alt="History" class="nav-icon">History</a></li>
    </ul>
    </nav>

    <form class="edit-profile-box">
        <div class="edit-profile">
        <img src="profile-logo.png" alt="profile-logo.png" class="edit-profile-logo">
        <input type="text" placeholder="Username" class="edit-username">
        <button class="edit-profile-btn"> <a href="profile.html">confirm</a></button>
        </div>

        <h3 class="edit-info-text">Information</h3>

        <label class="edit-email">
            <img src="mail-icon.png" alt="mail-icon.png" class="edit-icon"><input type="text" placeholder="Email adress" class="edit-email-input">
        </label>
        <label class="edit-location">
        <img src="location-icon.png" alt="location-icon.png" class="edit-icon"><input type="text" placeholder="Location" class="edit-location-input">
        </label>
        <label class="edit-contact">
        <img src="contact-icon.png" alt="contact-icon.png" class="edit-icon"><input type="text" placeholder="Contact" class="edit-contact-input">
        </label>

    </form>

    <script>

        const profileData = {};


        const usernameInput = document.querySelector('.edit-username');
        const emailInput = document.querySelector('.edit-email-input');
        const locationInput = document.querySelector('.edit-location-input');
        const contactInput = document.querySelector('.edit-contact-input');
        const confirmBtn = document.querySelector('.edit-profile-btn');


        window.addEventListener('load', function() {
            const saved = localStorage.getItem('profileData');
            if (saved) {
                const data = JSON.parse(saved);
                usernameInput.value = data.username || '';
                emailInput.value = data.email || '';
                locationInput.value = data.location || '';
                contactInput.value = data.contact || '';
            }
            console.log('Edit profile page loaded');
        });

        confirmBtn.addEventListener('click', function(e) {
            profileData.username = usernameInput.value;
            profileData.email = emailInput.value;
            profileData.location = locationInput.value;
            profileData.contact = contactInput.value;

            if (!profileData.username) {
                e.preventDefault();
                alert('Please enter a username');
                return;
            }

            localStorage.setItem('profileData', JSON.stringify(profileData));
            console.log('Profile data saved:', profileData);
        });

        emailInput.addEventListener('blur', function() {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (this.value && !emailRegex.test(this.value)) {
                alert('Please enter a valid email address');
            }
        });
    </script>

</body>
</html>